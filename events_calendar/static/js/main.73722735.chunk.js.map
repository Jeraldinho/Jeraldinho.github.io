{"version":3,"sources":["components/Header/Header.jsx","DataContext.jsx","components/Event/Event.jsx","components/Events/Events.jsx","components/Main/Main.jsx","components/Form/Form.jsx","components/EventAdd/EventAdd.jsx","components/EventEdit/EventEdit.jsx","App.jsx","index.js"],"names":["Header","className","DataContext","createContext","DataProvider","children","eventsCache","localStorage","getItem","JSON","parse","useState","events","setEvents","filteredEvents","setFilteredEvents","formInputs","id","date","setHours","dateFormat","Date","name","type","address","time","budget","note","fields","setFormData","useEffect","newData","filter","event","setItem","stringify","Provider","value","useData","useContext","Event","props","onClick","onEdit","onRemove","Events","history","useHistory","length","map","index","key","eventId","item","removeEvent","push","onEditEvent","Main","dateFromat","selected","onChange","newDate","onChangeEventDate","highlightDates","subDays","calendarStartDay","locale","ru","inline","Form","nameErrorInit","nameDirty","setNameDirty","nameError","setNameError","budgetErrorInit","budgetDirty","setBudgetDirty","budgetError","setBudgetError","addressErrorInit","addressDirty","setAddressDirty","addressError","setAddressError","timeErrorInit","timeDirty","setTimeDirty","timeError","setTimeError","noteErrorInit","noteDirty","setNoteDirty","noteError","setNoteError","isFormValid","setFormValid","blurHandler","e","target","autoFocus","onBlur","rows","location","pathname","disabled","EventAdd","EventEdit","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.73722735.chunk.js","sourcesContent":["import './Header.css';\r\nimport React from \"react\";\r\n\r\nconst Header = () => {\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<h1>Events calendar</h1>\r\n\t\t</header>\r\n\t);\r\n};\r\nexport default Header;\r\n","import React, { useState, useEffect, useContext, createContext } from 'react';\r\n\r\nconst DataContext = createContext();\r\n\r\nexport const DataProvider = ({children}) => {\r\n\tlet eventsCache = !!localStorage.getItem(\"events\") ? JSON.parse(localStorage.getItem(\"events\")) : [];\r\n\r\n\tconst [events, setEvents] = useState(eventsCache);\r\n\r\n\tconst [filteredEvents, setFilteredEvents] = useState([]);\r\n\r\n\tlet dateFormat = (date) => {\r\n\t\treturn date.setHours(0, 0, 0, 0);\r\n\t};\r\n\t\r\n\tconst formInputs = {\r\n\t\tid: 1,\r\n\t\tdate: dateFormat(new Date()),\r\n\t\tname: \"\",\r\n\t\ttype: \"1\",\r\n\t\taddress: \"\",\r\n\t\ttime: \"\",\r\n\t\tbudget: \"\",\r\n\t\tnote: \"\",\r\n\t};\r\n\r\n\tconst [fields, setFormData] = useState(formInputs);\r\n\r\n\tconst { date } = fields;\r\n\t\r\n\tuseEffect(() => {\r\n\t\tlet newData = events.filter((event) => event.date === date);\r\n\r\n\t\tsetFilteredEvents(newData);\r\n\r\n\t\tlocalStorage.setItem(\"events\", JSON.stringify(events));\r\n\t}, [events]);\r\n\t\r\n\treturn (\r\n\t\t<DataContext.Provider value={{\r\n\t\t\tevents, setEvents, filteredEvents, setFilteredEvents, formInputs, fields, setFormData\r\n\t\t}}>\r\n\t\t\t{children}\r\n\t\t</DataContext.Provider>\r\n\t)\r\n}\r\n\r\nexport const useData = () => useContext(DataContext)","import './Event.css'\r\n\r\nconst Event = (props) => {\r\n\treturn (\r\n\t\t<div className=\"events__list-item\">\r\n\t\t\t<div className=\"event__name\">{props.name ? props.name : \"Название события\"}</div>\r\n\r\n\t\t\t{props.type === \"1\" && (\r\n\t\t\t\t<div className=\"event__budget\">\r\n\t\t\t\t\t<span>Бюджет:</span> {props.budget} $\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{props.type === \"2\" && (\r\n\t\t\t\t<div className=\"event__address-and-time\">\r\n\t\t\t\t\t<span>Адрес:</span> {props.address} <br />\r\n\t\t\t\t\t<span>Время:</span> {props.time}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{props.type === \"3\" && (\r\n\t\t\t\t<div className=\"event__note\">{props.note}</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"event__actions-btns\">\r\n\t\t\t\t<span className=\"event__action-btn event__edit-btn\" onClick={props.onEdit}>\r\n\t\t\t\t\t<i className=\"mdi mdi-pencil\"></i>\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span className=\"event__action-btn event__delete-btn\" onClick={props.onRemove}>\r\n\t\t\t\t\t<i className=\"mdi mdi-delete\"></i>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Event;\r\n","import './Events.css'\r\nimport { useData } from \"../../DataContext\";\r\nimport Event from \"./../Event/Event\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Events = () => {\r\n\tconst history = useHistory();\r\n\r\n\tconst {events, setEvents, fields, setFormData, filteredEvents} = useData();\r\n\r\n\tconst removeEvent = (eventId) => {\r\n\t\tlet newData = events.filter((item) => {\r\n\t\t\treturn item.id !== eventId;\r\n\t\t});\r\n\t\tsetEvents(newData);\r\n\t};\r\n\r\n\tconst onEditEvent = (event) => {\r\n\t\tsetFormData({\r\n\t\t\t...fields,\r\n\t\t\t...event,\r\n\t\t});\r\n\r\n\t\thistory.push(\"/edit\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"events\">\r\n\t\t\t<div className=\"events__list\">\r\n\t\t\t\t{!!filteredEvents.length ? \r\n\t\t\t\t\tfilteredEvents.map((event, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Event\r\n\t\t\t\t\t\t\t\t{...event}\r\n\t\t\t\t\t\t\t\tkey={`event_${event.id}`}\r\n\t\t\t\t\t\t\t\tid={index}\r\n\t\t\t\t\t\t\t\tonRemove={() => {removeEvent(event.id)}}\r\n\t\t\t\t\t\t\t\tonEdit={() => {onEditEvent(event)}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}) : \"Событий не запланировано\"\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Events;\r\n","import React from \"react\";\r\nimport \"../../css/materialdesignicons.min.css\";\r\nimport Events from \"../Events/Events\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport { subDays } from \"date-fns\";\r\nimport ru from \"date-fns/locale/ru\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useData } from \"../../DataContext\";\r\n\r\nconst Main = (props) => {\r\n\tconst {\r\n\t\tevents,\r\n\t\tfields,\r\n\t\tsetFormData,\r\n\t\tformInputs,\r\n\t\tsetFilteredEvents,\r\n\t} = useData();\r\n\r\n\tconst { date } = fields;\r\n\r\n\tconst history = useHistory();\r\n\r\n\tlet dateFormat = (date) => {\r\n\t\treturn date.setHours(0, 0, 0, 0);\r\n\t};\r\n\r\n\tconst onChangeEventDate = (date) => {\r\n\t\tlet newDate = dateFormat(date);\r\n\r\n\t\tsetFormData({\r\n\t\t\t...fields,\r\n\t\t\tdate: newDate,\r\n\t\t});\r\n\r\n\t\tlet newData = events.filter((event) => event.date === newDate);\r\n\r\n\t\tsetFilteredEvents(newData);\r\n\t};\r\n\r\n\tconst toAddEvent = () => {\r\n\t\tsetFormData({\r\n\t\t\t...fields,\r\n\t\t\t...formInputs,\r\n\t\t\tdate: date,\r\n\t\t});\r\n\r\n\t\thistory.push(\"/add\");\r\n\t};\r\n\r\n\tconst highliteDates = () => {\r\n\t\treturn events.map((event) => {\r\n\t\t\treturn (subDays(new Date(event.date), 0))\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main className=\"content container\">\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"sidebar choose-date col-4\">\r\n\t\t\t\t\t<div className=\"choose-date__title\">\r\n\t\t\t\t\t\tВыберите дату события:\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\tdateFromat=\"YYYY-MM-dd\"\r\n\t\t\t\t\t\tselected={date}\r\n\t\t\t\t\t\t//minDate={new Date()}\r\n\t\t\t\t\t\tonChange={(date) => onChangeEventDate(date)}\r\n\t\t\t\t\t\thighlightDates={highliteDates()}\r\n\t\t\t\t\t\tcalendarStartDay={1}\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tlocale={ru}\r\n\t\t\t\t\t\tinline\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<div className=\"actions\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"btn btn-primary add-event-btn\"\r\n\t\t\t\t\t\t\tonClick={toAddEvent}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tДобавить\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"content col-8\">\r\n\t\t\t\t\t<h3 className=\"mb-3\">Список событий</h3>\r\n\t\t\t\t\t<Events />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n};\r\nexport default Main;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useData } from \"../../DataContext\";\r\n\r\nconst Form = (props) => {\r\n\tconst history = useHistory();\r\n\r\n\tconst { events, setEvents, fields, setFormData, formInputs } = useData();\r\n\r\n\tconst { date, name, type, budget, address, time, note } = fields;\r\n\r\n\tconst nameErrorInit = !!name ? '' : \"Введите название события\";\r\n\tconst [nameDirty, setNameDirty] = useState(false);\r\n\tconst [nameError, setNameError] = useState(nameErrorInit);\r\n\t\r\n\tconst budgetErrorInit = !!budget ? '' : \"Введите бюджет\";\r\n\tconst [budgetDirty, setBudgetDirty] = useState(false);\r\n\tconst [budgetError, setBudgetError] = useState(budgetErrorInit);\r\n\r\n\tconst addressErrorInit = !!address ? '' : \"Введите адрес/место\";\r\n\tconst [addressDirty, setAddressDirty] = useState(false);\r\n\tconst [addressError, setAddressError] = useState(addressErrorInit);\r\n\r\n\tconst timeErrorInit = !!time ? '' : \"Введите время\";\r\n\tconst [timeDirty, setTimeDirty] = useState(false);\r\n\tconst [timeError, setTimeError] = useState(timeErrorInit);\r\n\r\n\tconst noteErrorInit = !!note ? '' : \"Введите текст\";\r\n\tconst [noteDirty, setNoteDirty] = useState(false);\r\n\tconst [noteError, setNoteError] = useState(noteErrorInit);\r\n\r\n\tconst [isFormValid, setFormValid] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tswitch (type) {\r\n\t\t\tcase \"1\":\r\n\t\t\t\tif (nameError || budgetError) {\r\n\t\t\t\t\tsetFormValid(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetFormValid(true);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"2\":\r\n\t\t\t\tif (nameError || addressError || timeError) {\r\n\t\t\t\t\tsetFormValid(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetFormValid(true);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"3\":\r\n\t\t\t\tif (nameError || noteError) {\r\n\t\t\t\t\tsetFormValid(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetFormValid(true);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}, [nameError, budgetError, addressError, timeError, noteError, type]);\r\n\r\n\tuseEffect(() => {\r\n\t\tswitch (type) {\r\n\t\t\tcase \"1\":\r\n\t\t\t\tsetFormData({\r\n\t\t\t\t\t...fields,\r\n\t\t\t\t\taddress: \"\",\r\n\t\t\t\t\ttime: \"\",\r\n\t\t\t\t\tnote: \"\",\r\n\t\t\t\t});\r\n\r\n\t\t\t\t\r\n\t\t\t\tsetAddressDirty(false);\r\n\t\t\t\tsetTimeDirty(false);\r\n\t\t\t\tsetNoteDirty(false);\r\n\t\t\t\tsetBudgetError(budgetErrorInit);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"2\":\r\n\t\t\t\tsetFormData({\r\n\t\t\t\t\t...fields,\r\n\t\t\t\t\tbudget: \"\",\r\n\t\t\t\t\tnote: \"\",\r\n\t\t\t\t});\r\n\t\t\t\tsetBudgetDirty(false);\r\n\t\t\t\tsetNoteDirty(false);\r\n\t\t\t\tsetAddressError(addressErrorInit);\r\n\t\t\t\tsetTimeError(timeErrorInit);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"3\":\r\n\t\t\t\tsetFormData({\r\n\t\t\t\t\t...fields,\r\n\t\t\t\t\taddress: \"\",\r\n\t\t\t\t\tbudget: \"\",\r\n\t\t\t\t\ttime: \"\",\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetBudgetDirty(false);\r\n\t\t\t\tsetAddressDirty(false);\r\n\t\t\t\tsetTimeDirty(false);\r\n\t\t\t\tsetNoteError(timeErrorInit);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}, [type]);\r\n\r\n\tconst blurHandler = (e) => {\r\n\t\tswitch (e.target.name) {\r\n\t\t\tcase \"event_name\":\r\n\t\t\t\tsetNameDirty(true);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"event_budget\":\r\n\t\t\t\tsetBudgetDirty(true);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"event_address\":\r\n\t\t\t\tsetAddressDirty(true);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"event_time\":\r\n\t\t\t\tsetTimeDirty(true);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"event_note\":\r\n\t\t\t\tsetNoteDirty(true);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeEventName = (e) => {\r\n\t\tif (!e.target.value) {\r\n\t\t\tsetNameError(\"Введите название события\");\r\n\t\t} else {\r\n\t\t\tsetNameError(\"\");\r\n\t\t}\r\n\r\n\t\tsetFormData({\r\n\t\t\t...fields,\r\n\t\t\tname: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst onChangeEventType = (e) => {\r\n\t\tsetFormData({\r\n\t\t\t...fields,\r\n\t\t\ttype: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst onChangeEventAddress = (e) => {\r\n\t\tif (!e.target.value) {\r\n\t\t\tsetAddressError(\"Введите адрес/место\");\r\n\t\t} else {\r\n\t\t\tsetAddressError(\"\");\r\n\t\t}\r\n\r\n\t\tsetFormData({\r\n\t\t\t...fields,\r\n\t\t\taddress: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst onChangeEventTime = (e) => {\r\n\t\tif (!e.target.value) {\r\n\t\t\tsetTimeError(\"Введите время\");\r\n\t\t} else {\r\n\t\t\tsetTimeError(\"\");\r\n\t\t}\r\n\r\n\t\tsetFormData({\r\n\t\t\t...fields,\r\n\t\t\ttime: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst onChangeEventBudget = (e) => {\r\n\t\tif (!e.target.value) {\r\n\t\t\tsetBudgetError(\"Введите бюджет\");\r\n\t\t} else if (e.target.value < 0) {\r\n\t\t\tsetBudgetError(\"Отрицательный бюджет\");\r\n\t\t} else {\r\n\t\t\tsetBudgetError(\"\");\r\n\t\t}\r\n\r\n\t\tsetFormData({\r\n\t\t\t...fields,\r\n\t\t\tbudget: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst onChangeEventNote = (e) => {\r\n\t\tif (!e.target.value) {\r\n\t\t\tsetNoteError(\"Введите текст\");\r\n\t\t} else {\r\n\t\t\tsetNoteError(\"\");\r\n\t\t}\r\n\r\n\t\tsetFormData({\r\n\t\t\t...fields,\r\n\t\t\tnote: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst addEvent = () => {\r\n\t\tif (events.length !== 0) {\r\n\t\t\tfields.id = events[events.length - 1].id + 1;\r\n\t\t} else {\r\n\t\t\tfields.id = 1;\r\n\t\t}\r\n\r\n\t\tsetEvents([...events, fields]);\r\n\r\n\t\tsetFormData({\r\n\t\t\t...fields,\r\n\t\t\t...formInputs,\r\n\t\t\tdate: date,\r\n\t\t});\r\n\r\n\t\thistory.push(\"/\");\r\n\t};\r\n\r\n\tconst onUpdateEvent = () => {\r\n\t\tlet newData = events.map((event) =>\r\n\t\t\tevent.id === fields.id ? { ...event, ...fields } : event\r\n\t\t);\r\n\r\n\t\tsetEvents(newData);\r\n\r\n\t\tsetFormData({\r\n\t\t\t...fields,\r\n\t\t\t...formInputs,\r\n\t\t\tdate: date,\r\n\t\t});\r\n\r\n\t\thistory.push(\"/\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"event__form\">\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label>Название события</label>\r\n\r\n\t\t\t\t{nameDirty && nameError && (\r\n\t\t\t\t\t<div className=\"error-message\">{nameError}</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"event_name\"\r\n\t\t\t\t\tclassName={`form-control ${\r\n\t\t\t\t\t\tnameDirty && nameError && \"error\"\r\n\t\t\t\t\t}`}\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\tonChange={onChangeEventName}\r\n\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\tblurHandler(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label>Тип события</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tname=\"event_type\"\r\n\t\t\t\t\tvalue={type}\r\n\t\t\t\t\tonChange={onChangeEventType}\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value=\"1\">Праздничные дни</option>\r\n\t\t\t\t\t<option value=\"2\">Мероприятия</option>\r\n\t\t\t\t\t<option value=\"3\">Пометки / другое</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t{type === \"1\" && (\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Бюджет</label>\r\n\r\n\t\t\t\t\t{budgetDirty && budgetError && (\r\n\t\t\t\t\t\t<div className=\"error-message\">{budgetError}</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tname=\"event_budget\"\r\n\t\t\t\t\t\tclassName={`form-control ${\r\n\t\t\t\t\t\t\tbudgetDirty && budgetError && \"error\"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tvalue={budget}\r\n\t\t\t\t\t\tonChange={onChangeEventBudget}\r\n\t\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\t\tblurHandler(e);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{type === \"2\" && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Куда идти?</label>\r\n\r\n\t\t\t\t\t\t{addressDirty && addressError && (\r\n\t\t\t\t\t\t\t<div className=\"error-message\">{addressError}</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"event_address\"\r\n\t\t\t\t\t\t\tclassName={`form-control ${\r\n\t\t\t\t\t\t\t\taddressDirty && addressError && \"error\"\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\t\tonChange={onChangeEventAddress}\r\n\t\t\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\t\t\tblurHandler(e);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Во сколько?</label>\r\n\r\n\t\t\t\t\t\t{timeDirty && timeError && (\r\n\t\t\t\t\t\t\t<div className=\"error-message\">{timeError}</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"event_time\"\r\n\t\t\t\t\t\t\tclassName={`form-control ${\r\n\t\t\t\t\t\t\t\ttimeDirty && timeError && \"error\"\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\tvalue={time}\r\n\t\t\t\t\t\t\tonChange={onChangeEventTime}\r\n\t\t\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\t\t\tblurHandler(e);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\r\n\t\t\t{type === \"3\" && (\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Текст</label>\r\n\r\n\t\t\t\t\t{noteDirty && noteError && (\r\n\t\t\t\t\t\t<div className=\"error-message\">{noteError}</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName={`form-control ${\r\n\t\t\t\t\t\t\tnoteDirty && noteError && \"error\"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tname=\"event_note\"\r\n\t\t\t\t\t\trows=\"2\"\r\n\t\t\t\t\t\tvalue={note}\r\n\t\t\t\t\t\tonChange={onChangeEventNote}\r\n\t\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\t\tblurHandler(e);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"actions-btns d-flex justify-content-between\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn btn-secondary add-event-btn\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thistory.push(\"/\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tОтмена\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{props.location.pathname === \"/add\" ? (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclassName=\"btn btn-primary add-event-btn\"\r\n\t\t\t\t\t\tonClick={addEvent}\r\n\t\t\t\t\t\tdisabled={!isFormValid}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tДобавить\r\n\t\t\t\t\t</button>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<button className=\"btn btn-success\" onClick={onUpdateEvent} disabled={!isFormValid}>\r\n\t\t\t\t\t\tОбновить\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport Form from \"../Form/Form\";\r\n\r\nconst EventAdd = (props) => {\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t<h2 className=\"mb-4\">Добавление события</h2>\r\n\r\n\t\t\t\t\t<Form {...props} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default EventAdd;\r\n","import React from \"react\";\r\nimport Form from \"../Form/Form\";\r\n\r\nconst EventEdit = (props) => {\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t<div className=\"col-5\">\r\n\t\t\t\t\t<h2 className=\"mb-4\">Редактирование события</h2>\r\n\r\n\t\t\t\t\t<Form {...props} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default EventEdit;\r\n","import \"./App.css\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Header from \"./components/Header/Header\";\r\nimport Main from \"./components/Main/Main\";\r\nimport EventAdd from \"./components/EventAdd/EventAdd\";\r\nimport EventEdit from \"./components/EventEdit/EventEdit\";\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<Header />\r\n\r\n\t\t\t<Router>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/\" component={Main} />\r\n\t\t\t\t\t<Route path=\"/add\" component={EventAdd} />\r\n\t\t\t\t\t<Route path=\"/edit\" component={EventEdit} />\r\n\t\t\t\t</Switch>\r\n\t\t\t</Router>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\nimport { DataProvider } from './DataContext';\r\n\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<DataProvider>\r\n\t\t\t<App />\r\n\t\t</DataProvider>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);"],"sourceRoot":""}